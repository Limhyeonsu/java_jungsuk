# 15. 입출력 I/O
## 1. 자바에서의 입출력
### 1.1 입출력이란?
I/O는 입력과 출력을 나타낸다. 입출력은 컴퓨터 내부 또는 외부의 장치와 프로그램간의 데이터를 주고받는 것을 말한다. 

### 1.2 스트림(stream)
자바에서 입출력을 수행하려면 어느 한쪽에서 다른 쪽으로 데이터를 전달해야한다. 그러기 위해 두 대상을 연결하고 데이터를 전송할 수 있는 무언가가 필요한데 이것을 스트림이라고 정의했다. (입출력의 스트림과 Stream은 같은 용어이지만 다른 개념임)

`스트림이란 데이터를 운반하는데 사용되는 연결통로이다.` 스트림은 단방향통신만 가능하기 때문에 하나의 스트림으로 입력과 출력을 동시에 처리할 수 없다. 그래서 입출력을 동시에 수행하려면 입력을 위한 입력스트림, 출력을 위한 출력 스트림 2개가 모두 필요하다. 스트림은 먼저 보낸 데이터를 먼저 받게 되어 있으며 중간에 건너뜀 없이 연속적으로 데이터를 주고 받는다.(FIFO)

### 1.3 바이트기반 스트림 - InputStream, OutputStream
스트림은 바이트단위로 데이터를 전송한다.

* FileInputStream / FileOutputStream
* ByteArrayInputStream / ByteArrayOutputStream
* PipedInputStream / PipedOutputStream
* AudioInputStream / AudioOutputStream

java.io 패키지를 통해 많은 종류의 입출력관련 클래스들을 제공하고 있으며, 입출력을 처리할 수 있는 표준화된 방법을 제공함으로써 동일한 방법으로 입출력이 가능하여 편리하다.

|InputStream|OutputStream|
|----|----|
|abstract int read()|abstract void write(int b)|
|int read(byte[] b)|void write(byte[] b)|
|int read(byte[] b, int off, int len)|void write(byte[] b, int off, int len)|

### 1.4 보조 스트림
스트림을 보완하기 위한 기능을 제공하는 보조 스트림이 있다. 실제 데이터를 주고 받는 스트림이 아니기 때문에 데이터를 입출력할 수 있는 기능은 없지만, 스트림의 기능을 향상시키거나 새로운 기능을 추가할 수 있다. 그래서 보조 스트림만으로는 입출력을 처리할 수 없고, 스트림을 먼저 생성한 다음에 이를 이용해서 보조스트림을 생성해야 한다.

```java
//기반 스트림 생성
FileInputStream fis = new FileInputStream("test.txt");
//보조 스트림 생성
BufferedInputStream bis = new BufferedInputStream(fis);
//데이터 읽기
bis.read();
```
코드 상으로는 보조 스트림인 BufferedInputStream이 입력 기능을 수행하는 것처럼 보이지만, 실제 입력기능은 보조 스트림에 연결된 FileInputStream이 수행하고, 보조 스트림은 단순히 버퍼만 제공한다. 버퍼를 사용하느냐에 따라 성능차이가 상당하기 때문에 대부분의 경우 버퍼를 이용한 보조스트림을 사용한다. (보조 스트림도 결국 InputStream, OuputStream의 자손들이다.)

<img src="/2회독/img/보조스트림종류.jpeg" width="700px">

### 1.5 문자기반 스트림 - Reader, Writer
바이트 기반 스트림이라 함은 1byte 단위로 입출력을 한다는 것이다. 하지만 자바에서 char 는 2byte로 바이트 기반의 스트림으로는 문자를 처리하는데 어려움이 있다. 이점을 보완하기 위해 문자 기반의 스트림이 제공된다.
```
InputStream  -->  Reader
OutputStream -->  Writer
```
* FileReader / FileWriter
* CharArrayReader / CharArrayWriter
* PipedReader / PipedWriter
* StringReader / StringWriter

바이트 기반 스트림과 문자기반 스트림의 읽기 쓰기의 메서드 차이점은 매개변수로 byte[] -> char[] 로 바뀌었다는 것과 추상 메서드가 달라졌다. 그래도 이름만 조금 다를 뿐 활용 방법은 거의 같다. 보조스트림 역시 문자기반 보조스트림이 존재하며 사용 목적과 방식은 바이트기반 보조 스트림과 다르지 않다.
